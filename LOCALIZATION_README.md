# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –¥–≤—É—è–∑—ã—á–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ

## –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –ò–§–¢–£–¢ —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–≤–∞ —è–∑—ã–∫–∞:
- **–†—É—Å—Å–∫–∏–π (ru)** - —è–∑—ã–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- **–¢–∞–¥–∂–∏–∫—Å–∫–∏–π (tg)**

## –ß—Ç–æ –±—ã–ª–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. Backend (Laravel)

#### –§–∞–π–ª—ã –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
–°–æ–∑–¥–∞–Ω—ã –ø–æ–ª–Ω—ã–µ —Ñ–∞–π–ª—ã –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –¥–ª—è –æ–±–æ–∏—Ö —è–∑—ã–∫–æ–≤ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `lang/`:
- `lang/ru/` - —Ä—É—Å—Å–∫–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã
- `lang/tg/` - —Ç–∞–¥–∂–∏–∫—Å–∫–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã

–§–∞–π–ª—ã –ø–µ—Ä–µ–≤–æ–¥–æ–≤:
- `auth.php` - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ —Å–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è
- `validation.php` - –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º
- `messages.php` - –æ–±—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- `dashboard.php` - –¥–∞—à–±–æ—Ä–¥
- `navigation.php` - –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- `courses.php` - –∫—É—Ä—Å—ã
- `lessons.php` - —É—Ä–æ–∫–∏
- `tests.php` - —Ç–µ—Å—Ç—ã
- `grades.php` - –æ—Ü–µ–Ω–∫–∏
- `students.php` - —Å—Ç—É–¥–µ–Ω—Ç—ã
- `teachers.php` - –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏
- `schedule.php` - —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ

#### Middleware –∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
- **SetLocale Middleware** (`app/Http/Middleware/SetLocale.php`) - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —è–∑—ã–∫ –Ω–∞ –æ—Å–Ω–æ–≤–µ:
  - –ü–∞—Ä–∞–º–µ—Ç—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞ `?lang=ru` –∏–ª–∏ `?lang=tg`
  - –ù–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ –ë–î
  - –°–µ—Å—Å–∏–∏
  - –Ø–∑—ã–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (—Ä—É—Å—Å–∫–∏–π)

- **LocaleController** (`app/Http/Controllers/LocaleController.php`) - —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–º–µ–Ω–æ–π —è–∑—ã–∫–∞:
  - `POST /locale/change` - —Å–º–µ–Ω–∞ —è–∑—ã–∫–∞
  - `GET /locale/current` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —è–∑—ã–∫–∞

#### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `locale` –≤ —Ç–∞–±–ª–∏—Ü—É `users` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —è–∑—ã–∫–æ–≤—ã—Ö –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ú–∏–≥—Ä–∞—Ü–∏—è: `2025_11_17_182635_add_locale_to_users_table.php`

#### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
–û–±–Ω–æ–≤–ª–µ–Ω `config/app.php`:
- –Ø–∑—ã–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–∑–º–µ–Ω–µ–Ω —Å `en` –Ω–∞ `ru`
- –î–æ–±–∞–≤–ª–µ–Ω —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —è–∑—ã–∫–æ–≤: `['ru', 'tg']`

#### Inertia Middleware
–û–±–Ω–æ–≤–ª–µ–Ω `HandleInertiaRequests.php`:
- –ü–µ—Ä–µ–¥–∞–µ—Ç —Ç–µ–∫—É—â—É—é –ª–æ–∫–∞–ª—å –≤ –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å
- –ü–µ—Ä–µ–¥–∞–µ—Ç –ø–µ—Ä–µ–≤–æ–¥—ã –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —è–∑—ã–∫–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### 2. Frontend (Vue.js)

#### Composable –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤
–°–æ–∑–¥–∞–Ω `resources/js/composables/useTranslations.js`:
```javascript
import { useTranslations } from '@/composables/useTranslations'

const { locale, changeLocale, __, getLocaleName, getLocaleFlag } = useTranslations()

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const translated = __('auth.welcome')
const translatedWithParam = __('auth.password_min', { min: 4 })
```

#### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è —è–∑—ã–∫–∞
–°–æ–∑–¥–∞–Ω `resources/js/Components/LanguageSwitcher.vue`:
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ç–µ–∫—É—â–∏–π —è–∑—ã–∫ —Å —Ñ–ª–∞–≥–æ–º
- –í—ã–ø–∞–¥–∞—é—â–µ–µ –º–µ–Ω—é –¥–ª—è –≤—ã–±–æ—Ä–∞ —è–∑—ã–∫–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π —Ä–µ–∂–∏–º –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
```vue
<LanguageSwitcher />
<LanguageSwitcher :compact="true" />
```

#### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ Layout
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `LanguageSwitcher` –¥–æ–±–∞–≤–ª–µ–Ω –≤ –æ—Å–Ω–æ–≤–Ω–æ–π Layout (`Layout.vue`)
- –î–æ–±–∞–≤–ª–µ–Ω –≤ –≤–µ—Ä—Ö–Ω—é—é –ø–∞–Ω–µ–ª—å –º–µ–∂–¥—É –ø–æ–∏—Å–∫–æ–º –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏
- –î–æ–±–∞–≤–ª–µ–Ω –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞ (`Login.vue`)

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### Backend

#### –í –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞—Ö
```php
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
return back()->with('success', __('auth.password_changed'));

// –í–∞–ª–∏–¥–∞—Ü–∏—è —Å –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏
$request->validate([
    'password' => ['required', 'string', 'min:4'],
], [
    'password.required' => __('auth.password_required'),
    'password.min' => __('auth.password_min', ['min' => 4]),
]);
```

#### –í Blade —à–∞–±–ª–æ–Ω–∞—Ö (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è)
```php
{{ __('auth.welcome') }}
{{ __('messages.created_successfully', ['resource' => '–ö—É—Ä—Å']) }}
```

### Frontend

#### –í Vue –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
```vue
<template>
  <div>
    <h1>{{ __('dashboard.welcome_student') }}</h1>
    <p>{{ __('courses.course_description') }}</p>
  </div>
</template>

<script setup>
import { useTranslations } from '@/composables/useTranslations'

const { __, locale, changeLocale } = useTranslations()

// –ü—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è —Å–º–µ–Ω–∞ —è–∑—ã–∫–∞
const switchToTajik = () => {
  changeLocale('tg')
}
</script>
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–ª—é—á–µ–π –ø–µ—Ä–µ–≤–æ–¥–∞

–ö–ª—é—á–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ñ–æ—Ä–º–∞—Ç `file.key`:
- `auth.login_title` - –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤—Ö–æ–¥–∞
- `validation.required` - —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–º –ø–æ–ª–µ
- `messages.save` - –∫–Ω–æ–ø–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
- `dashboard.welcome_student` - –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç—É–¥–µ–Ω—Ç–∞

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤

### 1. Backend
1. –û—Ç–∫—Ä–æ–π—Ç–µ –Ω—É–∂–Ω—ã–π —Ñ–∞–π–ª –≤ `lang/ru/` –∏ `lang/tg/`
2. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π –∫–ª—é—á –∏ –ø–µ—Ä–µ–≤–æ–¥:

```php
// lang/ru/messages.php
return [
    // ...
    'new_key' => '–ù–æ–≤—ã–π —Ç–µ–∫—Å—Ç',
];

// lang/tg/messages.php
return [
    // ...
    'new_key' => '–ú–∞—Ç–Ω–∏ –Ω–∞–≤',
];
```

### 2. Frontend
–ü–µ—Ä–µ–≤–æ–¥—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —á–µ—Ä–µ–∑ Inertia.
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `__()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–∞:

```vue
{{ __('messages.new_key') }}
```

## –°–º–µ–Ω–∞ —è–∑—ã–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º

–Ø–∑—ã–∫ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:
1. –í —Å–µ—Å—Å–∏–∏
2. –í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö (–¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
3. –í localStorage (–¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è)

–ü—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –≤–∏–∑–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–≤–∏–¥–∏—Ç —Å–∞–π—Ç –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–º —è–∑—ã–∫–µ.

## –Ø–∑—ã–∫–æ–≤—ã–µ —Ñ–ª–∞–≥–∏

- –†—É—Å—Å–∫–∏–π: üá∑üá∫
- –¢–∞–¥–∂–∏–∫—Å–∫–∏–π: üáπüáØ

–§–ª–∞–≥–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ `LanguageSwitcher`.

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç
2. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —è–∑—ã–∫–∞ –≤ –≤–µ—Ä—Ö–Ω–µ–π –ø–∞–Ω–µ–ª–∏
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∞–¥–∂–∏–∫—Å–∫–∏–π —è–∑—ã–∫
4. –í—Å–µ —Ç–µ–∫—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –∏–∑–º–µ–Ω–∏—Ç—å—Å—è –Ω–∞ —Ç–∞–¥–∂–∏–∫—Å–∫–∏–π
5. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É - —è–∑—ã–∫ –¥–æ–ª–∂–µ–Ω —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å—Å—è

## –†–æ—É—Ç—ã

- `POST /locale/change` - —Å–º–µ–Ω–∞ —è–∑—ã–∫–∞ (—Ç—Ä–µ–±—É–µ—Ç: `locale: 'ru'|'tg'`)
- `GET /locale/current` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —è–∑—ã–∫–∞

## Middleware

Middleware `SetLocale` –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ –≥—Ä—É–ø–ø–µ `web` –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ –≤—Å–µ–º –≤–µ–±-—Ä–æ—É—Ç–∞–º.

## –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ (en)
2. –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞ –ø–æ IP/–±—Ä–∞—É–∑–µ—Ä—É
3. RTL –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–ª—è –∞—Ä–∞–±—Å–∫–∏—Ö —è–∑—ã–∫–æ–≤
4. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏
5. –≠–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç –ø–µ—Ä–µ–≤–æ–¥–æ–≤

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

–ü–æ –≤–æ–ø—Ä–æ—Å–∞–º –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º –ø—Ä–æ–µ–∫—Ç–∞.

